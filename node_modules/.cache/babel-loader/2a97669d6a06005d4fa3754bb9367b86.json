{"ast":null,"code":"import React,{Component,useEffect}from'react';import L from'leaflet';import{MapContainer,useMap}from'react-leaflet';import MarkerClusterGroup from'react-leaflet-markercluster';import Utils from'../Utils/Utilits';import boundaries from\"../../data/boundaries.json\";import persons from\"../../data/persons.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ContactMap(){/**\n   * hook for changing component\n   */useEffect(function(){console.log('This is called when the component is mounted!');},[]);var center=[51.5167,9.917];var boundariesColor={color:\"orange\",fill:false};var zoom=4;function MyComponent(){var map=useMap();//console.log('map center:', map.getCenter())\n/**\n   * start Layer without boundaries\n   */L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(map);/*\n  var withBoundary = function(providerName) {\n     return L.TileLayer.BoundaryCanvas.createFromLayer(      \n        L.tileLayer.provider(providerName),\n        {boundary: boundaries, trackAttribution: true}\n    )\n}\n\n  L.control.layers({\n  'OpenStreetMap.DE': withBoundary('OpenStreetMap.DE').addTo(map)\n  //'Stamen.Watercolor': withBoundary('Stamen.Watercolor'),\n  //'Esri.WorldStreetMap': withBoundary('Esri.WorldStreetMap'),\n  //'MapQuestOpen.Aerial': withBoundary('MapQuestOpen.Aerial')\n  }, null, {collapsed: false}).addTo(map);\n  */var activeIcon=L.icon({iconUrl:'./img/marker-icon.png',iconSize:[25,41]});var inactiveIcon=L.icon({iconUrl:'./img/marker-icon-gray.png',iconSize:[25,41]});//L.marker([51.5167, 9,917]).addTo(map)\n//  .bindPopup('Center of Germany')\n//  .openPopup();\nvar ActivePeoples=L.geoJson(persons,{pointToLayer:function pointToLayer(feature,latlng){if(feature.isActive){var marker=L.marker(latlng,{icon:activeIcon});marker.bindPopup(\"Name: \"+feature.properties.name+'<br/>'+\"Surname\"+feature.properties.username+'<br/>'+\"Age: \"+feature.properties.age+'<br/>'+\"Company: \"+feature.properties.company+'<br/>'+\"Address: \"+feature.properties.address+'<br/>'+feature.properties.description+' ');//marker.openPopup() doesnt work in Safari\n//this is some hook             \nfunction func(){marker.openPopup();}var utils=new Utils();utils.Subscribe('click',marker,func);}return marker;}});var inactivePeoples=L.geoJson(persons,{pointToLayer:function pointToLayer(feature,latlng){if(!feature.isActive){var marker=L.marker(latlng,{icon:inactiveIcon});marker.bindPopup(\"Name: \"+feature.properties.name+'<br/>'+\"Surname\"+feature.properties.username+'<br/>'+\"Age: \"+feature.properties.age+'<br/>'+\"Company: \"+feature.properties.company+'<br/>'+\"Address: \"+feature.properties.address+'<br/>'+feature.properties.description+' ');//marker.openPopup() doesnt work in Safari\n//this is some hook             \nfunction func(){marker.openPopup();}var utils=new Utils();utils.Subscribe('click',marker,func);}return marker;}});/*\n      var groupColors = L.geoJson( persons, {\n        style: function(feature){\n          var fillColor,\n              density = feature.properties.density;\n          if ( density > 80 ) fillColor = \"#006837\";\n          else if ( density > 40 ) fillColor = \"#31a354\";\n          else if ( density > 20 ) fillColor = \"#78c679\";\n          else if ( density > 10 ) fillColor = \"#c2e699\";\n          else if ( density > 0 ) fillColor = \"#ffffcc\";\n          else fillColor = \"#f7f7f7\";  // no data\n          return { color: \"#999\", weight: 1, fillColor: fillColor, fillOpacity: .6 };\n        },\n        onEachFeature: function( feature, layer ){\n          layer.bindPopup( \"<strong>\" + feature.properties.name + \"</strong><br/>\" + feature.properties.density + \" rats per square mile\" )\n        }\n      }) \n      */var boundariesLayer=L.geoJSON(boundaries,{style:function style(feature){return boundariesColor;}});var clusters=L.markerClusterGroup();clusters.addLayer(ActivePeoples);clusters.addLayer(inactivePeoples);clusters.addLayer(boundariesLayer);map.addLayer(clusters);return null;}/**\n   * <TileLayer\n    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n  />\n   */return/*#__PURE__*/_jsxs(MapContainer,{className:\"markercluster-map\",center:center,zoom:zoom,maxZoom:18,children:[/*#__PURE__*/_jsx(MyComponent,{}),/*#__PURE__*/_jsx(MarkerClusterGroup,{})]});}","map":{"version":3,"sources":["/Users/meinemandala/code/src/sand/TOWORK/contact-map-developers/src/components/ContactMap/Contactmap.js"],"names":["React","Component","useEffect","L","MapContainer","useMap","MarkerClusterGroup","Utils","boundaries","persons","ContactMap","console","log","center","boundariesColor","color","fill","zoom","MyComponent","map","tileLayer","attribution","addTo","activeIcon","icon","iconUrl","iconSize","inactiveIcon","ActivePeoples","geoJson","pointToLayer","feature","latlng","isActive","marker","bindPopup","properties","name","username","age","company","address","description","func","openPopup","utils","Subscribe","inactivePeoples","boundariesLayer","geoJSON","style","clusters","markerClusterGroup","addLayer"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\nimport L from 'leaflet';\nimport { MapContainer,  useMap} from 'react-leaflet'\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport Utils from '../Utils/Utilits';\n\nimport boundaries from \"../../data/boundaries.json\"\nimport persons from \"../../data/persons.json\"\n\n\nexport default function ContactMap() {\n  \n  /**\n   * hook for changing component\n   */\n  useEffect(() => {\n    console.log('This is called when the component is mounted!');\n  }, []);\n\n  const center = [51.5167, 9.917];      \n  const boundariesColor = { color: \"orange\", fill: false};\n  const zoom = 4;\n\n function MyComponent() {\n  const map = useMap()\n  //console.log('map center:', map.getCenter())\n\n  /**\n   * start Layer without boundaries\n   */\n\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n  }).addTo(map);\n\n\n  /*\n  var withBoundary = function(providerName) {\n     return L.TileLayer.BoundaryCanvas.createFromLayer(      \n        L.tileLayer.provider(providerName),\n        {boundary: boundaries, trackAttribution: true}\n    )\n}\n\n  L.control.layers({\n  'OpenStreetMap.DE': withBoundary('OpenStreetMap.DE').addTo(map)\n  //'Stamen.Watercolor': withBoundary('Stamen.Watercolor'),\n  //'Esri.WorldStreetMap': withBoundary('Esri.WorldStreetMap'),\n  //'MapQuestOpen.Aerial': withBoundary('MapQuestOpen.Aerial')\n  }, null, {collapsed: false}).addTo(map);\n  */\n\n\n\n  var activeIcon = L.icon({\n    iconUrl: './img/marker-icon.png',\n    iconSize: [25,41]\n  });\n  \n  var inactiveIcon = L.icon({\n    iconUrl: './img/marker-icon-gray.png',\n    iconSize: [25,41]\n  });\n\n  //L.marker([51.5167, 9,917]).addTo(map)\n  //  .bindPopup('Center of Germany')\n  //  .openPopup();\n\n    var ActivePeoples = L.geoJson(persons,{\n      pointToLayer: function(feature,latlng){\n        if (feature.isActive){\n        \n          var marker = L.marker(latlng,{icon: activeIcon});        \n                  \n          marker.bindPopup(\"Name: \"+ feature.properties.name + \n            '<br/>' + \"Surname\" + feature.properties.username +\n            '<br/>' + \"Age: \" + feature.properties.age +\n            '<br/>' + \"Company: \" + feature.properties.company +\n            '<br/>' + \"Address: \" + feature.properties.address + \n            '<br/>' + feature.properties.description + ' '\n            );\n\n            \n            //marker.openPopup() doesnt work in Safari\n            //this is some hook             \n            function func () {\n                marker.openPopup();\n            }          \n            var utils = new Utils();\n            utils.Subscribe('click', marker, func);          \n\n          \n          }        \n          \n          return marker;\n      }\n\n    });\n\n    var inactivePeoples = L.geoJson(persons,{      \n      pointToLayer: function(feature,latlng){\n        if (!feature.isActive){\n        var marker = L.marker(latlng,{icon: inactiveIcon});        \n        marker.bindPopup(\"Name: \"+ feature.properties.name + \n          '<br/>' + \"Surname\" + feature.properties.username +\n          '<br/>' + \"Age: \" + feature.properties.age +\n          '<br/>' + \"Company: \" + feature.properties.company +\n          '<br/>' + \"Address: \" + feature.properties.address + \n          '<br/>' + feature.properties.description + ' '\n          );\n        \n        //marker.openPopup() doesnt work in Safari\n            //this is some hook             \n            function func () {\n              marker.openPopup();\n          }          \n          var utils = new Utils();\n          utils.Subscribe('click', marker, func);          \n\n         \n        }\n        return marker;\n      }\n    });\n\n    /*\n      var groupColors = L.geoJson( persons, {\n        style: function(feature){\n          var fillColor,\n              density = feature.properties.density;\n          if ( density > 80 ) fillColor = \"#006837\";\n          else if ( density > 40 ) fillColor = \"#31a354\";\n          else if ( density > 20 ) fillColor = \"#78c679\";\n          else if ( density > 10 ) fillColor = \"#c2e699\";\n          else if ( density > 0 ) fillColor = \"#ffffcc\";\n          else fillColor = \"#f7f7f7\";  // no data\n          return { color: \"#999\", weight: 1, fillColor: fillColor, fillOpacity: .6 };\n        },\n        onEachFeature: function( feature, layer ){\n          layer.bindPopup( \"<strong>\" + feature.properties.name + \"</strong><br/>\" + feature.properties.density + \" rats per square mile\" )\n        }\n      }) \n      */\n\n     var boundariesLayer = L.geoJSON(boundaries, {\n      style: function(feature) {\n          return boundariesColor;          \n          }\n      });  \n\n\n    var clusters = L.markerClusterGroup();\n    clusters.addLayer(ActivePeoples);\n    clusters.addLayer(inactivePeoples);\n    clusters.addLayer(boundariesLayer);\n    map.addLayer(clusters);\n\n  \n  return null\n}\n\n  /**\n   * <TileLayer\n    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n  />\n   */\n\n  return (\n  \n  <MapContainer className=\"markercluster-map\" center={center} zoom={zoom} maxZoom={18}>\n  <MyComponent />\n    \n  <MarkerClusterGroup/>\n</MapContainer>\n\n  );\n}"]},"metadata":{},"sourceType":"module"}